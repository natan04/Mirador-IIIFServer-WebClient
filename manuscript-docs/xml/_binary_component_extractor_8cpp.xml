<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.8">
  <compounddef id="_binary_component_extractor_8cpp" kind="file">
    <compoundname>BinaryComponentExtractor.cpp</compoundname>
    <includes refid="stdafx_8h" local="yes">stdafx.h</includes>
    <includes refid="_d_image_8h" local="yes">DImage.h</includes>
    <includes refid="_binary_component_extractor_8h" local="yes">BinaryComponentExtractor.h</includes>
    <incdepgraph>
      <node id="77">
        <label>opencv/cv.h</label>
      </node>
      <node id="85">
        <label>BinaryComponentExtractor.h</label>
        <link refid="_binary_component_extractor_8h"/>
        <childnode refid="76" relation="include">
        </childnode>
      </node>
      <node id="79">
        <label>ConnectedComponent.h</label>
        <link refid="_connected_component_8h"/>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="80" relation="include">
        </childnode>
        <childnode refid="81" relation="include">
        </childnode>
      </node>
      <node id="63">
        <label>SDKDDKVer.h</label>
      </node>
      <node id="78">
        <label>opencv2/core/core.hpp</label>
      </node>
      <node id="74">
        <label>ImageConverter.h</label>
        <link refid="_image_converter_8h"/>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
      <node id="80">
        <label>string</label>
      </node>
      <node id="76">
        <label>ComponentExtractor.h</label>
        <link refid="_component_extractor_8h"/>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="79" relation="include">
        </childnode>
      </node>
      <node id="81">
        <label>Contour.h</label>
        <link refid="_contour_8h"/>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="82" relation="include">
        </childnode>
      </node>
      <node id="67">
        <label>opencv\cv.h</label>
      </node>
      <node id="73">
        <label>ImageEnhancer.h</label>
        <link refid="_image_enhancer_8h"/>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
      <node id="60">
        <label>ManuscriptApp/BinaryComponentExtractor.cpp</label>
        <link refid="BinaryComponentExtractor.cpp"/>
        <childnode refid="61" relation="include">
        </childnode>
        <childnode refid="66" relation="include">
        </childnode>
        <childnode refid="85" relation="include">
        </childnode>
      </node>
      <node id="61">
        <label>stdafx.h</label>
        <link refid="stdafx_8h"/>
        <childnode refid="62" relation="include">
        </childnode>
        <childnode refid="64" relation="include">
        </childnode>
        <childnode refid="65" relation="include">
        </childnode>
      </node>
      <node id="84">
        <label>Feature.h</label>
        <link refid="_feature_8h"/>
      </node>
      <node id="69">
        <label>vector</label>
      </node>
      <node id="83">
        <label>FeatureExtractor.h</label>
        <link refid="_feature_extractor_8h"/>
        <childnode refid="77" relation="include">
        </childnode>
        <childnode refid="78" relation="include">
        </childnode>
        <childnode refid="84" relation="include">
        </childnode>
      </node>
      <node id="75">
        <label>ImageProjector.h</label>
        <link refid="_image_projector_8h"/>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
      <node id="68">
        <label>opencv2/highgui/highgui.hpp</label>
      </node>
      <node id="66">
        <label>DImage.h</label>
        <link refid="_d_image_8h"/>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="68" relation="include">
        </childnode>
        <childnode refid="69" relation="include">
        </childnode>
        <childnode refid="70" relation="include">
        </childnode>
        <childnode refid="72" relation="include">
        </childnode>
        <childnode refid="73" relation="include">
        </childnode>
        <childnode refid="74" relation="include">
        </childnode>
        <childnode refid="75" relation="include">
        </childnode>
        <childnode refid="76" relation="include">
        </childnode>
        <childnode refid="83" relation="include">
        </childnode>
      </node>
      <node id="65">
        <label>tchar.h</label>
      </node>
      <node id="70">
        <label>ImageFilter.h</label>
        <link refid="_image_filter_8h"/>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
      <node id="62">
        <label>targetver.h</label>
        <link refid="targetver_8h"/>
        <childnode refid="63" relation="include">
        </childnode>
      </node>
      <node id="64">
        <label>stdio.h</label>
      </node>
      <node id="71">
        <label>imageoperator.h</label>
        <link refid="_image_operator_8h"/>
        <childnode refid="67" relation="include">
        </childnode>
      </node>
      <node id="82">
        <label>opencv2\core\core.hpp</label>
      </node>
      <node id="72">
        <label>ImageBinarizer.h</label>
        <link refid="_image_binarizer_8h"/>
        <childnode refid="67" relation="include">
        </childnode>
        <childnode refid="71" relation="include">
        </childnode>
      </node>
    </incdepgraph>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;<ref refid="stdafx_8h" kindref="compound">stdafx.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_d_image_8h" kindref="compound">DImage.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="_binary_component_extractor_8h" kindref="compound">BinaryComponentExtractor.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_binary_component_extractor_1a675e103667b7eeb343765c0daa5686a5" kindref="member">BinaryComponentExtractor::collectComponents</ref>(vector&lt;vector&lt;Point&gt;&gt;&amp;<sp/>contours,<sp/>vector&lt;Vec4i&gt;<sp/>hierarchy,<sp/></highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/>vector&lt;ConnectedComponent*&gt;&amp;<sp/>components){</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Generate<sp/>all<sp/>the<sp/>components<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/>vector&lt;vector&lt;Point&gt;&gt;::iterator<sp/>iter;<sp/></highlight></codeline>
<codeline lineno="20"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/>iter<sp/>=<sp/>contours.begin();<sp/>iter<sp/>!=<sp/>contours.end();<sp/>iter++<sp/>){</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_connected_component" kindref="compound">ConnectedComponent</ref>*<sp/>component<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_connected_component" kindref="compound">ConnectedComponent</ref>(*iter);</highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>component-&gt;<ref refid="class_connected_component_1ac13a32125f8c05e118dcaa1fd57eacfb" kindref="member">setImage</ref>(<ref refid="class_component_extractor_1a57494f356e871fc5216eb13fbdb76f0b" kindref="member">_image</ref>-&gt;<ref refid="class_d_image_1a1f875d1a50eff52cbd1ca119f5293c8d" kindref="member">getMat</ref>(),<sp/>component-&gt;<ref refid="class_connected_component_1a7be353a1c50182b97b4f4e36d1bb5275" kindref="member">getBoundRect</ref>());</highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>components.push_back(component);</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Scan<sp/>the<sp/>the<sp/>component<sp/>and<sp/>build<sp/>the<sp/>hierarchy<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0<sp/>;<sp/>i<sp/>&lt;<sp/>components.size();<sp/>i++<sp/>){</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_connected_component" kindref="compound">ConnectedComponent</ref>*<sp/>component<sp/>=<sp/>components[i];</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Child</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hierarchy[i][2]<sp/>&gt;=<sp/>0<sp/>){</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>component-&gt;<ref refid="class_connected_component_1a391767f0886946771bf138e3d136b192" kindref="member">addChild</ref>(components[hierarchy[i][2]]);</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Parent<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(hierarchy[i][3]<sp/>&gt;=<sp/>0<sp/>)</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>component-&gt;<ref refid="class_connected_component_1afbf7969c6c69fa5c603ca819d809c820" kindref="member">setParent</ref>(components[hierarchy[i][3]]);<sp/><sp/></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Remove<sp/>from<sp/>the<sp/>top<sp/>level<sp/>components,<sp/>which<sp/>parents<sp/>are<sp/>not<sp/>null</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0<sp/>;</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(<sp/>i<sp/>&lt;<sp/>components.size()<sp/>){</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>!components[i]-&gt;getParent()<sp/>)</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>components.erase(components.begin()<sp/>+<sp/>i<sp/>);</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>i++<sp/>;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="47"><highlight class="normal">}</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><sp/><ref refid="class_binary_component_extractor_1a16232815f3a3e8e28fd80a733ff71383" kindref="member">BinaryComponentExtractor::extract</ref>(vector&lt;ConnectedComponent*&gt;&amp;<sp/>components){</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>vector&lt;vector&lt;Point&gt;&gt;<sp/>contours;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>vector&lt;Vec4i&gt;<sp/>hierarchy;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>Mat<sp/>mat<sp/>=<sp/><ref refid="class_component_extractor_1a57494f356e871fc5216eb13fbdb76f0b" kindref="member">_image</ref>-&gt;<ref refid="class_d_image_1a1f875d1a50eff52cbd1ca119f5293c8d" kindref="member">getMat</ref>().clone();</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>cv::findContours(mat,<sp/>contours,<sp/>hierarchy,<sp/>CV_RETR_TREE,<sp/>CV_CHAIN_APPROX_NONE,<sp/>Point(0,<sp/>0)<sp/>);</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_binary_component_extractor_1a675e103667b7eeb343765c0daa5686a5" kindref="member">collectComponents</ref>(contours,<sp/>hierarchy,<sp/>components);</highlight></codeline>
<codeline lineno="63"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/Users/roykalony/Documents/workspace/manuscript-project/manuscriptvc/ManuscriptApp/BinaryComponentExtractor.cpp"/>
  </compounddef>
</doxygen>
